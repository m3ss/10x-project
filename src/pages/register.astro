---
import Layout from "../layouts/Layout.astro";
import { RegisterForm } from "../components/RegisterForm";
import { ThemeToggle } from "../components/ThemeToggle";

// Auth guard - redirect logged in users to /generate
const user = Astro.locals.user;

if (user) {
  return Astro.redirect('/generate');
}
---

<Layout title="Rejestracja">
  <ThemeToggle client:load />
  <RegisterForm client:load />
</Layout>
